{% embed 'base.html.twig' with {sidebar: 0} %}

    {% block body %}
        <div class="container offset">
            <h1>Affichage des articles</h1>
            <table class="table table-striped table-hover">
                <thead>
                <tr>
                    <th>Titre</th>
                    <th>Auteur</th>
                    <th>Créée le</th>
                    <th>Modifié le</th>
                    <th>Actions</th>
                </tr>
                </thead>
                <tbody>
                {% for article in articles %}
                    <tr>
                        <td>
                            <a href="{{ path('article_show', {'day': article.createdAt|date('d'), 'month': article.createdAt|date('m'), 'slug': article.slug, 'year': article.createdAt|date('Y')}) }}">{{ article.title }}</a></td>
                        <td>{{ article.author.username }}</td>
                        <td>{{ article.createdAt|date('d/m/Y') }}, à {{ article.createdAt|date('H:i:s') }}</td>
                        <td>{{ article.editedAt|date('d/m/Y') }}</td>
                        <td><a class="btn btn-primary btn-sm" style="margin-right: 10px;" href="{{ path('admin_article_edit', {'id': article.id}) }}">Éditer</a><a class="btn btn-danger btn-sm" href="{{ path('admin_article_delete', {'id': article.id}) }}">Supprimer</a></td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>

            <a class="btn btn-success" href="{{ path('admin_article_add') }}">Ajouter un article</a>
        </div>

    {% endblock %}

{% endembed %}